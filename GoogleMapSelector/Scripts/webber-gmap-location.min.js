$(document).ready(function(){$("input.webber-gmap-location").each(function(){var n=$(this),t=n.data("gmapid"),f,e,o,r,u;if(t==null||t==undefined){for(f=1,t="gmapid_";$("#"+t+f.toString()).length>0;)f++;t=t+f.toString();n.data("gmapid",t);e=n.data("width");o=n.data("height");e==undefined&&(e="300px");o==undefined&&(o="300px");n.after('<div id="'+t+'" style="width:'+e+";height:"+o+';"><\/div>');var h=null,c=null,i=n.val();(i==null||i=="")&&(i=n.data("init"));(i==null||i==""||i==undefined)&&(i="35.724105,51.404229");r=i.toString().split(",");r.length==2&&(isNaN(Number(r[0]))||(h=Number(r[0])),isNaN(Number(r[1]))||(c=Number(r[1])));console.log(Number(h));var l=Number(n.data("zoom")),a={center:new google.maps.LatLng(h,c),zoom:isNaN(l)?5:l,mapTypeId:google.maps.MapTypeId.ROADMAP},s=new google.maps.Map(document.getElementById(t),a);n.data("map",s);u=new google.maps.Marker({position:a.center});u.setMap(s);n.data("marker",u);google.maps.event.addListener(s,"click",function(t){n.val(t.latLng.A.toString()+","+t.latLng.F.toString());u.setPosition(t.latLng)});n.keyup(function(){var i=null,r=null,f=n.val(),t=f.toString().split(",");t.length==2&&(isNaN(Number(t[0]))||(i=Number(t[0])),isNaN(Number(t[1]))||(r=Number(t[1])));u.setPosition(new google.maps.LatLng(i,r));s.panTo(new google.maps.LatLng(i,r))})}})})